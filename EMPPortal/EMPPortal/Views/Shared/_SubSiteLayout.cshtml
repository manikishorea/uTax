@using EMPPortal.Filters;
<!DOCTYPE html>

<html>
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>EMP Portal</title>
    <title>@ViewBag.Title </title>
    <mesta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=1.0, minimum-scale=1.0, maximum-scale=1.0">
    <meta http-equiv="Cache-control" content="no-cache">
    <link rel="shortcut icon" type="image/x-icon" href="~/favicon.ico" />
    <!--Responsive Start Here -->
    <link href="~/Content/css/footable-0.1.css" rel="stylesheet" />
    <!--Mobile Menu Start Here -->
    <link type="text/css" rel="stylesheet" href="@Url.Content("~/Content/css/jquery.mmenu.all.css")" />
    <link type="text/css" rel="stylesheet" href="@Url.Content("~/Content/css/menu_m.css")" />
    <!-- Material Design fonts -->
    <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Roboto:300,400,500,700" type="text/css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <!-- Bootstrap -->
    <link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" rel="stylesheet">
    <link href="@Url.Content("~/Content/css/bootstrap-material-design.css")" rel="stylesheet" />
    <link href="@Url.Content("~/Content/css/ripples.min.css")" rel="stylesheet" />
    <!-- Page style -->
    <link href="@Url.Content("~/Content/css/footable.core.css")" rel="stylesheet">
    <link href="@Url.Content("~/Content/css/footable.metro.css")" rel="stylesheet">
    <!-- Font Awesome -->

    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.4.0/css/font-awesome.min.css"
          rel="stylesheet" />
    <!-- Dropdown.js -->
    <link href="@Url.Content("~/Content/css/jquery.dropdown.css")" rel="stylesheet" />
    <!-- Data Table -->
    <link href="@Url.Content("~/Content/css/jquery.dataTables.css")" rel="stylesheet" />
    @Html.IncludeVersionedCss("/Content/css/custom-style.css")
    @*<link href="@Url.Content("~/Content/css/custom-style.css")" rel="stylesheet" />*@
    @Html.IncludeVersionedCss("/Content/css/gray-theme.css")
    @*<link href="@Url.Content("~/Content/css/gray-theme.css")" rel="stylesheet" />*@
    <!--Responsive Start Here -->
        <link href="@Url.Content("~/Content/css/responsive.css")" rel="stylesheet" />
    <script src="@Url.Content("~/Content/js/jquery-1.10.2.min.js")"></script>

    <script src="~/Content/js/material.js"></script>
    <script src="~/Content/js/ripples.min.js"></script>
    <!-- Page jQuery -->
    <script src="~/Content/js/footable.js"></script>
    <script src="~/Content/js/footable.sort.js"></script>
    <script src="~/Content/js/footable.filter.js"></script>
    <script src="~/Content/js/footable.paginate.js"></script>
</head>
<body class="">
    <!-- Header Start here -->
    <div class="container-fluid main-blk">
        <div class="row">
            <div class="col-md-12">
                <div class="navbar navbar-default">
                    <div class="container-fluid">
                        <div class="col-md-12">
                            <div class="col-md-10 pull-right head-right">
                                <h1>Enterprise Management Portal</h1>
                                <div class="login-blk">
                                    <ul class="nav navbar-nav navbar-right">
                                        <li class="dropdown">
                                            <a href="#" data-target="#" class="dropdown-toggle" data-toggle="dropdown">
                                                <i class="fa fa-user" aria-hidden="true"></i> @Session["UserName"]
                                                <b class="caret"></b>
                                            </a>
                                            <div id="divUserProfile">
                                                @*<ul class="dropdown-menu">
                                                        <li><a href="javascript:void(0)">Security Questions</a></li>
                                                        <li><a href="javascript:void(0)">Change Password</a></li>
                                                    </ul>*@
                                            </div>
                                        </li>
                                        <li class="sign-out"><a href="/CustomerLogin/"><i class="fa fa-sign-out" aria-hidden="true"></i>Logout</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="body_main">
        <div class="body_inner page-content">
            <div class="container-fluid">
                <div class="main_wrap">
                    <!-- Top Nav End Here -->
                    <input type="hidden" id="parentid" value="@Session["PARENTID"].ToString()" />
                    <input type="hidden" id="entityid" value="@Session["entityid"].ToString()" />
                    <input type="hidden" id="entitydisplayid" value="@Session["EntityDisplayId"].ToString()" />
                    <input type="hidden" id="UserName" value="@Session["UserName"].ToString()" />
                    <input type="hidden" id="SalesYear" value="@Session["SalesYear"].ToString()" />
                    <input type="hidden" id="IsEnrollmentSubmit" value="@Session["IsEnrollmentSubmit"].ToString()" />
                    <input type="hidden" id="Entity_uTax" value="@ViewBag.uTax" />
                    <input type="hidden" id="Entity_SO" value="@ViewBag.SO" />
                    <input type="hidden" id="Entity_SOME" value="@ViewBag.SOME" />
                    <input type="hidden" id="Entity_MO" value="@ViewBag.MO" />
                    <input type="hidden" id="Entity_MOSubSite" value="@ViewBag.MOSubSite" />
                    <input type="hidden" id="Entity_SVB" value="@ViewBag.SVB" />
                    <input type="hidden" id="Entity_SVBSubSite" value="@ViewBag.SVBSubSite" />
                    @if (Session.Count > 0)
                    {
                        <input type="hidden" id="UserId" value="@Session["UserId"].ToString()" />
                        <input type="hidden" id="Token" name="Token" value="@Session["Token"].ToString()" />
                    }
                    else
                    {
                        <input type="hidden" id="UserId" value="00000000-0000-0000-0000-000000000000" />
                        <input type="hidden" id="Token" value="00000000-0000-0000-0000-000000000000" />
                    }
                </div>
                <div class="col-md-3 padding-left-25 sidebar">
                    <div class="side-navigation" id="divmenu">
                    </div>
                    @*<div class="help-section">
                        <div class="panel-group" id="accordion">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h4 class="panel-title">
                                        <a data-toggle="collapse" data-parent="#accordion" href="#collapseOne">
                                            Help
                                        </a>
                                    </h4>
                                </div><!--/.panel-heading -->
                                <div id="collapseOne" class="panel-collapse collapse">
                                    <div class="panel-body">
                                        Lorem Ipsum is simply dummy text of the printing and typesetting industry. Lorem Ipsum has been the industry's standard dummy text ever since the 1500.
                                    </div><!--/.panel-body -->
                                </div><!--/.panel-collapse -->
                            </div><!-- /.panel -->
                            <!-- Footer End Here -->
                        </div>
                    </div>*@
                    @*<p class="phone-support">Contact uTax Partner Support at <span>206-209-2653</span></p>*@
                </div>
                <div class="col-md-9 main-content-blk">
                    <div class="alert alert-danger" style="display:none;" id="error"></div>
                    <div class="alert alert-success" style="display:none;" id="success"></div>
                    @RenderBody()
                </div>
                <!-- Footer Start Here -->
                <footer>
                    <div class="row">
                        <div class="col-md-12 text-center">
                            <p class="txt-white">© @System.DateTime.Now.Year EMP. All rights reserved.</p>
                        </div>
                    </div>
                </footer>
            </div>
            <!-- Footer End Here -->
        </div>
    </div>
    <!-- Loading Start Here -->
    <div style="display: none;" class="loading_main" id="loading_main"><img src="~/Content/images/loading-img.gif" /></div>
    <div class="modal fade bs-example-modal-lg" id="popupHelp" tabindex="-1" role="dialog" aria-labelledby="myLargeModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
                    <h4 class="modal-title">Help</h4>
                </div>
                <div class="modal-body">
                </div>
                <div class="modal-footer validation_text_remove">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <!-- jQuery -->
    <script src="~/Content/js/jquery-1.10.2.min.js"></script>
    <script src="~/Content/js/material.js"></script>
    <script src="~/Content/js/ripples.min.js"></script>

    @*<script src="~/Scripts/app/common.js"></script>*@
    @Html.IncludeVersionedJs("/Scripts/app/common.js")
    <script src="~/Scripts/app/vmenu.js"></script>
    <script src="~/Content/js/jquery.maskedinput.min.js"></script>
    <script>
        $.material.init();
    </script>


    <!-- Tooltip -->
    <script>
        $(document).ready(function () {
            $('[data-toggle="tooltip"]').tooltip();
        });
    </script>
    <script>
        $(document).ready(function () {

            if ($('#collapseOne:visible').length == 0) {
                $("#accordion").addClass("custom-in");
            }
            $("#accordion").on('click', function () {
                $(this).removeClass('custom-in');
            });
        });
    </script>
    <!-- Sliders -->
    <script>
        $(function () {
            getSubSitemap($('#divmenu'));
            getSubSiteConfigStatus();
            //getSalesYear($('#SalesYearID'), 'e1befa09-f3ff-43dd-99d8-ba92c07e4749');
          
            fnEFINReadonly();

            $('#nav-bar').load('includes/nav-bar.html');
            $('#left-nav').load('includes/left-nav.html');
            $.material.init();
            $(".shor").noUiSlider({
                start: 40,
                connect: "lower",
                range: {
                    min: 0,
                    max: 100
                }
            });

            $(".svert").noUiSlider({
                orientation: "vertical",
                start: 40,
                connect: "lower",
                range: {
                    min: 0,
                    max: 100
                }
            });
        });
    </script>

    <!-- Dropdown.js -->
    <script src="https://cdn.rawgit.com/FezVrasta/dropdown.js/master/jquery.dropdown.js"></script>
    <script>
        $("#dropdown-menu select").dropdown();
    </script>
    <script>
        var selector = '.side-navigation li a';
        $(selector).on('click', function () {
            $(selector).removeClass('active');
            $(this).addClass('active');
        });
    </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $('.helpicon').on('click', function () {
                var content = $(this).siblings('.desc').html();
                $('#popupHelp').find('.modal-body').html(content);
                $('#popupHelp').modal('show');
            });
        });
        $('#layout-condensed-toggle').on('click', function () {
            setTimeout(function () {
                var menu_class = $('#main-menu').attr('class');
                var body_class = $('.body_inner').attr('class');
                $('.sub-menu').hide();
                @*$.ajax({
                    url: "@Url.Content("~/FSA/ManageUsers/SetCSSVariable")",
                    data: {
                        Body: body_class,
                        LeftMenu: menu_class
                    },
                    async: false,
                    cache: false,
                    success: function () {

                    }
                });*@
            }, 1000);
        });

        $(window).resize(function () {
            var win_height = $(window).height();
            $('.main_wrap_t').css('min-height', win_height - 140);
        });
        window.page = window.location.hash || "#about";
        $(document).ready(function () {


            if (window.page !== "#about") {
                $(".menu").find("li[data-target=" + window.page + "]").trigger("click");
            }
        });

        $(window).on("resize", function () {
            $("html, body").height($(window).height());
            $(".main, .menu").height($(window).height() - $(".header-panel").outerHeight());
            $(".pages").height($(window).height());
        }).trigger("resize");

        $(".menu li").click(function () {
            // Menu
            if (!$(this).data("target")) return;
            if ($(this).is(".active")) return;
            $(".menu li").not($(this)).removeClass("active");
            var page;
            $(".page").not(page).removeClass("active").hide();
            window.page = $(this).data("target");
            page = $(window.page);
            window.location.hash = window.page;
            $(this).addClass("active");


            page.show();

            var totop = setInterval(function () {
                $(".pages").animate({ scrollTop: 0 }, 0);
            }, 1);

            setTimeout(function () {
                page.addClass("active");
                setTimeout(function () {
                    clearInterval(totop);
                }, 1000);
            }, 100);
        });

        function cleanSource(html) {
            var lines = html.split(/\n/);

            lines.shift();
            lines.splice(-1, 1);

            var indentSize = lines[0].length - lines[0].trim().length,
            re = new RegExp(" {" + indentSize + "}");

            lines = lines.map(function (line) {
                if (line.match(re)) {
                    line = line.substring(indentSize);
                }

                return line;
            });

            lines = lines.join("\n");

            return lines;
        }

        $("#opensource").click(function () {
            $.get(window.location.href, function (data) {
                var html = $(data).find(window.page).html();
                html = cleanSource(html);
                $("#source-modal pre").text(html);
                $("#source-modal").modal();
            });
        });
    </script>

    <!-- Twitter Bootstrap -->
    <script src="@Url.Content("~/Content/js/bootstrap.min.js")"></script>
    <script src="@Url.Content("~/Content/js/bootstrap-dialog.min.js")" type="text/javascript"></script>
    @*<script src="@Url.Content("~/Content/js/bootstrap-multiselect.js")" type="text/javascript"></script>*@
    <!-- Twitter Bootstrap Datetimepicker-->
    <script src="@Url.Content("~/Content/js/moment-with-locales.js")"></script>
    @*<script src="@Url.Content("~/Content/js/bootstrap-datetimepicker.min.js")"></script>*@
    <script src="@Url.Content("~/Content/js/bootstrap-datepicker.js")"></script>
    <script src="@Url.Content("~/Content/js/bootstrap-filestyle.js")"></script>
    @*<script src="@Url.Content("~/Content/js/jquery.fileupload.js")"></script>*@

    <!-- Data Table
    JS -->
    <script src="@Url.Content("~/Content/js/jquery.dataTables.js")"></script>
    <script src="https://cdn.datatables.net/fixedcolumns/3.2.2/js/dataTables.fixedColumns.min.js"></script>
    <script src="@Url.Content("~/Content/js/shCore.js")"></script>
    <script src="@Url.Content("~/Content/js/demo.js")"></script>
    <script src="@Url.Content("~/Content/js/bootstrap-datepicker.js")"></script>

    <!-- Slim
    Scroll -->
    <script src="@Url.Content("~/Content/js/bootstrap-datetimepicker.min.js")"></script>
    <script src="@Url.Content("~/Content/js/jquery.slimscroll.min.js")"></script>
    <script>
        //$.material.init(); $(document).ready(function () {
        //    $('#example').dataTable({
        //        "aoColumns": [null, null, null, null, null, null, null]
        //    });
        //});
    </script>
    <!--
    Sliders -->
    <script src="@Url.Content("~/Content/js/jquery.nouislider.min.js")"></script>
    <!-- Responsive Table -->
    <script src="@Url.Content("~/Content/js/footable.js")" type="text/javascript"></script>
    <!-- Mobile Menu.js -->
    <script src="@Url.Content("~/Content/js/jquery.mmenu.min.all.js")"></script>
    <!-- Dropdown.js -->
    <script src="@Url.Content("~/Content/js/jquery.dropdown.js")"></script>
    <script src="@Url.Content("~/Content/js/editor.js")"></script>
    <script src="@Url.Content("~/Content/js/bootstrap-select.min.js")"></script>
    <script src="@Url.Content("~/Content/js/jquery.ui.widget.js")"></script>
    <script src="@Url.Content("~/Content/js/tmpl.min.js")"></script>
    <script src="@Url.Content("~/Content/js/load-image.all.min.js")"></script>
    <script src="@Url.Content("~/Content/js/jquery.iframe-transport.js")"></script>
    <script src="@Url.Content("~/Content/js/bootstrap-filestyle.js")"></script>
    <script src="@Url.Content("~/Content/js/blockUI.js")"></script>


    @*<script src="@Url.Content("~/Content/js/custom.js")"></script>*@
    @Html.IncludeVersionedJs("/Scripts/app/custom.js")
    <script src="@Url.Content("~/Content/js/jquery.sidr.min.js")"></script>
    <script src="@Url.Content("~/Content/js/validator.min.js")"></script>
    <script type="text/javascript">
        $("#dropdown-menu select").dropdown();
        $(document).ready(function () {
            $(".date_input").keypress(function (event) {
                if (event.which != 8 && event.which != 47 && event.which != 0 && isNaN(String.fromCharCode(event.which))) {
                    event.preventDefault(); //stop characters from entering input
                }
            });
            $(".date_input").attr('maxlength', '10');
            $(":file").filestyle();
        }); </script>
    <script type="text/javascript">
        $(document).ready(function () {
            $(":file").filestyle();
        });

        //$('#main-menu').addClass('');
        //$('.body_inner').addClass('');
        $(document).ready(function () {
            if ($('#main-menu').hasClass('mini')) {
                $('.sub-menu').hide();
            }
            $('.main_wrap_t').click(function () {
                if ($('#main-menu').hasClass('mini')) {
                    $('.sub-menu').hide();
                }
            });
            $('.menu_toggle').click(function () {
                if (!$('#main-menu').hasClass('mini')) {
                    $('#main-menu-wrapper ul > li.open .sub-menu').show();
                }
            });
        });

        function ClearHistory() {
            var backlen = history.length;
            history.go(-(history.length - 1));
            window.location.href = '../../../Account/Login'
        }

    </script>

    <script>
        $.material.init();
    </script>


    <!-- Sliders -->
    <script src="http://cdnjs.cloudflare.com/ajax/libs/noUiSlider/6.2.0/jquery.nouislider.min.js"></script>
    <script>
        $(function () {
            $('#nav-bar').load('includes/nav-bar.html');
            $('#left-nav').load('includes/left-nav.html');
            $.material.init();
            $(".shor").noUiSlider({
                start: 40,
                connect: "lower",
                range: {
                    min: 0,
                    max: 100
                }
            });

            $(".svert").noUiSlider({
                orientation: "vertical",
                start: 40,
                connect: "lower",
                range: {
                    min: 0,
                    max: 100
                }
            });
        });
    </script>

    <!-- Dropdown.js -->
    <script src="https://cdn.rawgit.com/FezVrasta/dropdown.js/master/jquery.dropdown.js"></script>
    <script>
        $("#dropdown-menu select").dropdown();
    </script>

    @*@Scripts.Render("~/bundles/jquery")
        @Scripts.Render("~/bundles/bootstrap")*@
    @RenderSection("scripts", required: false)
</body>

</html>
