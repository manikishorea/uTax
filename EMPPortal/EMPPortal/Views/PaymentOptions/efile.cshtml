@using EMPPortal.Filters;
@{
    ViewBag.Title = "efile";
    //    Layout = "~/Views/Shared/_Layout.cshtml";
}

<input type="hidden" id="formid" name="formid" value="active" formid="site0eda5d25-591c-4e01-a845-fb580572cff5" sitemapid="0eda5d25-591c-4e01-a845-fb580572cff5" />

<h2>Payment Options</h2>
<div class="panel panel-default subsite">
    <div class="utax-tabs new-label">
        <div class="bs-component">
            <ul style="margin-bottom: 15px;" class="nav nav-tabs">
                <li class="active" id="liPaymentOptions"><a data-toggle="tab" href="#dvPaymentOptions" id="a_po">e-Filing Payment Options<div class="ripple-container"></div></a></li>
                <li id="liefileCC" style="display:none;"><a id="a_cc" data-toggle="tab" href="#dvCreditCard">e-Filing Credit Card</a></li>
                <li id="liefileBA" style="display:none;"><a id="a_ba" data-toggle="tab" href="#dvBankAccount">e-Filing ACH</a></li>
            </ul>
            <div class="tab-content" id="myTabContent">
                <div id="dvPaymentOptions" class="tab-pane fade active in">
                    <div class="col-md-10 col-md-offset-1 text-center">
                        <p>New this year! uTax is introducing a convenient, Automatic Payment Option feature to help you efficiently manage your uTax account.</p>
                        <p>
                            Each tax season, uTax processes invoices for e-Filed returns that don’t include a Bank Product.
                            Please complete the Credit Card or ACH draft information below, so payments for your e-File invoices can be processed automatically.
                            By completing the information below, you are authorizing uTax Software to charge the account that is designated. 
                            You will still receive a statement from uTax for your records.
                        </p>
                    </div>
                    <div class="col-md-12 padding-top-10">
                        <div class="col-md-6">
                            <div class="multi-question">
                                <div class="question-block cst-radio-blk">
                                    <div class="form-group">
                                        <label>How would you like to pay for e-Filing fees incurred by your site(s)?</label>
                                        <div class="radio" id="dvFirst">
                                            <label>
                                                <input type="radio" name="rbefile" id="rbefileCC" class="yesbox" onchange="efilePaymentChanges('cc')">
                                                Credit Card
                                            </label>
                                            <label>
                                                <input type="radio" name="rbefile" id="rbefileBA" class="nobox" onchange="efilePaymentChanges('bank')">
                                                Bank Account (Automatic ACH Withdrawal)
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                <div class="sub-question" id="dbBankSubQuestion" style="display:none;">
                                    <div class="question-block">
                                        <div class="form-group">
                                            <label>Would you like to use the same account that you identified to receive your add-on fee reimbursement in the Bank Selection section?</label>
                                            <div class="radio" id="dvSec">
                                                <label>
                                                    <input type="radio" name="rbBank" value="option2" id="rbBankProdYes" class="yesbox">
                                                    Yes
                                                </label>
                                                <label>
                                                    <input type="radio" name="rbBank" value="option2" id="rbBankProdNo" class="nobox">
                                                    No
                                                </label>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <h3 class="text-center">uTax e-Filing Fees Summary</h3>
                            <div class="table-responsive cst-edit-tb">
                                <table class="table table-striped table-hover table-bordered" id="tdFeeUser">
                                    <thead>
                                        <tr>
                                            <th>e-File Fees</th>
                                            <th>Amount</th>
                                        </tr>
                                    </thead>
                                    <tbody id="tb_feeSummary">
                                        @*<tr>
                                                <td>uTax Federal e-Filing Fee</td>
                                                <td><span>$</span> <span class="hdnTranFee">0</span> </td>
                                            </tr>
                                            <tr>
                                                <td>uTax State e-Filing Fee</td>
                                                <td><span>$</span> <span class="hdnTranFee">0</span> </td>
                                            </tr>*@
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 custom-button">
                        <a class="btn btn-default btn-info" onclick="SaveefilePaymentOptions()">Save &amp; Next <div class="ripple-container"></div></a>
                    </div>
                </div>
                <div id="dvCreditCard" class="tab-pane fade">
                    <h4 class="text-center">e-Filing Credit Card</h4>
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">Cardholder's Name:</label>
                                <input type="text" id="txtCardholderName" class="form-control alphanumaric" maxlength="50">
                            </div>
                        </div>
                        <div class="col-md-6" style="padding-top:35px;">
                            <div class="form-group is-empty">
                                <div class="radio" id="dvCardtype">
                                    <label>
                                        <input type="radio" name="CardType" id="rbmastercard"><span class="circle"></span><span class="check"></span>
                                        Master Card
                                    </label>
                                    <label>
                                        <input type="radio" name="CardType" id="rbvisa"><span class="circle"></span><span class="check"></span>
                                        Visa
                                    </label>
                                    <label>
                                        <input type="radio" name="CardType" id="rbamericanexpress"><span class="circle"></span><span class="check"></span>
                                        American Express
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-6">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">Credit Card Number:</label>
                                <input type="text" id="txtCardNumber" class="form-control digit" maxlength="16">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">Billing Address:</label>
                                <textarea type="text" id="txtBillingAddress" class="form-control"></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12">
                        <div class="col-md-3">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">Expiration:</label>
                                <input type="text" id="txtExpiration" class="form-control" placeholder="MM/YY" maxlength="5"  onkeypress="epiration(event)">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">City:</label>
                                <input type="text" id="txtCity" class="form-control" maxlength="50">
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">State:</label>
                                <select id="ddl_state" name="ddlstate" class="form-control"></select>
                            </div>
                        </div>
                        <div class="col-md-3">
                            <div class="form-group is-empty">
                                <label for="inputDefault" class="control-label mandatory">Zip Code:</label>
                                <input type="number" id="txtZip" class="form-control digit max_5dig" max="99999" maxlength="5">
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12" style="padding-left:30px;">
                        <div class="checkbox authorize" id="dvccauth">
                            <label>
                                <input type="checkbox" id="chkAughorizeCC">
                                I authorize uTax Software LLC to charge the Credit Card listed above for any/all e-File related invoices.
                            </label>
                        </div>
                    </div>
                    <div class="col-md-12 custom-button">
                        <a class="btn btn-default btn-info" onclick="goPrev()">Previous</a>
                        <a class="btn btn-default btn-info" onclick="saveCC(1)">Save &amp; Next<div class="ripple-container"></div></a>
                        <a class="btn btn-default btn-info pull-right" onclick="saveCC(0)">Save <div class="ripple-container"></div></a>
                    </div>
                </div>
                <div id="dvBankAccount" class="tab-pane fade">
                    <h4 class="text-center">e-Filing ACH</h4>
                    <div class="col-md-12">
                        <div class="col-md-10 col-md-offset-1 text-center">
                            <div class="bank-img"><img src="~/Content/images/bank.jpg" class="img-responsive" /></div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-5 col-md-offset-1">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Name on Account:</label>
                                    <input type="text" id="txtNameofAccount" class="form-control alpha">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-5 col-md-offset-1">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Bank Name:</label>
                                    <input type="text" id="txtBankName" class="form-control alpha">
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group is-empty">
                                    <label>Account Type:</label>
                                    <div class="radio" id="dvAccounttype">
                                        <label>
                                            <input type="radio" name="AccountType" id="rbAccountTypeYes" checked>
                                            Checking
                                        </label>
                                        <label>
                                            <input type="radio" name="AccountType" id="rbAccountTypeNo">
                                            Savings
                                        </label>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-5 col-md-offset-1">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Please enter your 9 digit RTN: </label>
                                    <input type="text" id="txtRTN" class="form-control digit" maxlength="9">
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Please confirm your 9 digit RTN:</label>
                                    <input type="text" id="txtConfirmRTN" class="form-control digit" maxlength="9">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-5 col-md-offset-1">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Please enter your Bank Account Number: </label>
                                    <input type="text" id="txtBankAccount" class="form-control digit" maxlength="17">
                                </div>
                            </div>
                            <div class="col-md-5">
                                <div class="form-group is-empty">
                                    <label for="inputDefault" class="control-label mandatory">Please confirm your Bank Account Number:</label>
                                    <input type="text" id="txtConfirmBankAccount" class="form-control digit" maxlength="17">
                                </div>
                            </div>
                        </div>
                        <div class="col-md-12">
                            <div class="col-md-10 col-md-offset-1">
                                <div class="checkbox authorize" id="dvauthorize">
                                    <label>
                                        <input type="checkbox" id="chkAughorizeACH"><span class="checkbox-material"></span>
                                        I authorize uTax, LLC to electronically credit my account (and if necessary, to electronically debit my account to correct erroneous credits).
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-md-12 custom-button">
                        <a class="btn btn-default btn-info" onclick="goPrev()">Previous</a>
                        <a class="btn btn-default btn-info" onclick="saveACH(1)">Save &amp; Next<div class="ripple-container"></div></a>
                        <a class="btn btn-default btn-info pull-right" onclick="saveACH(0)">Save <div class="ripple-container"></div></a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

@section scripts {
    @Html.IncludeVersionedJs("/Scripts/app/PaymentOptions.js")
    @*<script src="~/Scripts/app/PaymentOptions.js"></script>*@
}
<style>
    .table-condensed {
        width: 220px;
        max-width: 100%;
        background-color: transparent;
        border-collapse: collapse;
        border-spacing: 0;
        margin: 0;
    }

        .table-condensed td {
            width: 20px;
            height: 20px;
            text-align: center;
            -webkit-border-radius: 4px;
            -moz-border-radius: 4px;
            border-radius: 4px;
        }

        .table-condensed th {
            text-align: center;
        }

            .table-condensed th.next, .table-condensed th.prev {
                cursor: pointer;
            }

    .datepicker td span {
        display: block;
        width: 47px;
        height: 54px;
        line-height: 54px;
        float: left;
        margin: 2px;
        cursor: pointer;
        -webkit-border-radius: 4px;
        -moz-border-radius: 4px;
        border-radius: 4px;
        cursor: pointer;
    }

        .datepicker td span.active {
            background-color: #1b75bc;
            color: #fff;
        }
        .datepicker td span.disabled{
            color:#ccc;
            cursor:text;
        }
</style>

<script>
    $(function () {
        $('.max_5dig').keyup(function (e) {
            if ($(this).val().length > 5) {
                var xp = $(this).val();
                $(this).val(xp.substr(0, 5));
            }
        });
    })
</script>